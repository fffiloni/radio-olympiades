<!DOCTYPE html>
<html lang="fr">
    <head> 
          
    </head>
    <body>
        <!-- <div id="located"></div> -->
        <button id = "find-me">Montrer ma localisation</button><br/>
<p id = "status"></p>
<a id = "map-link" target="_blank"></a>

        <script type="text/javascript">
            if ("geolocation" in navigator) {
            /* la géolocalisation est disponible */
            function geoFindMe() {

const status = document.querySelector('#status');
const mapLink = document.querySelector('#map-link');

mapLink.href = '';
mapLink.textContent = '';
var geo_options = {
  enableHighAccuracy: true,
  maximumAge        : 1000,
  timeout           : 20000
};  
function success(position) {
    
  const latitude  = position.coords.latitude;
  const longitude = position.coords.longitude;

  status.textContent = '';
  mapLink.href = `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;
  mapLink.textContent = `Latitude: ${latitude} °, Longitude: ${longitude} °`;
}

function error() {
  status.textContent = 'Unable to retrieve your location';
}

if (!navigator.geolocation) {
  status.textContent = 'Geolocation is not supported by your browser';
} else {
  status.textContent = 'Locating…';
  navigator.geolocation.getCurrentPosition(success, error, geo_options);
}

}

document.querySelector('#find-me').addEventListener('click', geoFindMe);
            } else {
            /* la géolocalisation n'est pas disponible */
            }
            function faireQqc(lat, long){
                console.log(lat + " " + long)
                var locationdiv = document.getElementById("located");
                locationdiv.innerHTML = lat + " " + long;
            }
        </script>
    </body>
</html>
